<UserControl x:Class="InventoryManagementSystem.Views.InventoryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 工具欄 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
            <Button x:Name="AddItemButton" Style="{StaticResource MaterialDesignRaisedButton}" 
                    Click="AddItemButton_Click" Margin="0,0,10,0">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Plus" Width="16" Height="16" VerticalAlignment="Center"/>
                    <TextBlock Text="新增商品" Margin="5,0,0,0"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="RefreshButton" Style="{StaticResource MaterialDesignOutlinedButton}" 
                    Click="RefreshButton_Click" Margin="0,0,10,0">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Refresh" Width="16" Height="16" VerticalAlignment="Center"/>
                    <TextBlock Text="重新整理" Margin="5,0,0,0"/>
                </StackPanel>
            </Button>

            <TextBox x:Name="SearchTextBox" materialDesign:HintAssist.Hint="搜尋商品..." 
                     Width="200" Margin="10,0,0,0" TextChanged="SearchTextBox_TextChanged"/>
        </StackPanel>

        <!-- 商品列表 -->
        <DataGrid x:Name="ItemsDataGrid" Grid.Row="1" 
                  AutoGenerateColumns="False" 
                  CanUserAddRows="False"
                  CanUserDeleteRows="False"
                  IsReadOnly="True"
                  materialDesign:DataGridAssist.CellPadding="13 8 8 8"
                  materialDesign:DataGridAssist.ColumnHeaderPadding="8">
            
            <DataGrid.Columns>
                <DataGridTextColumn Header="商品ID" Binding="{Binding ItemID}" Width="80"/>
                <DataGridTextColumn Header="商品名稱" Binding="{Binding Name}" Width="150"/>
                <DataGridTextColumn Header="分類" Binding="{Binding Category}" Width="100"/>
                <DataGridTextColumn Header="價格" Binding="{Binding PriceFormatted}" Width="100"/>
                <DataGridTextColumn Header="庫存" Binding="{Binding Stock}" Width="80"/>
                <DataGridTextColumn Header="最低庫存" Binding="{Binding MinStock}" Width="100"/>
                <DataGridTextColumn Header="狀態" Binding="{Binding StockStatus}" Width="100">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding StockStatus}" Value="缺貨">
                                    <Setter Property="Foreground" Value="Red"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding StockStatus}" Value="庫存不足">
                                    <Setter Property="Foreground" Value="Orange"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <DataGridTextColumn Header="說明" Binding="{Binding Description}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>